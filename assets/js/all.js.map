{"version":3,"sources":["all.js"],"names":["inputSearch","document","querySelector","searchClick","changeClick","showChangeClick","inputData","zipCodeMap","getInputData","value","alert","serachButtonClick","e","target","nodeName","console","log","cheangProcess","taipeiZipCode","randomZipcode","length","randomNumber","Math","ceil","random","indexOf","push","content","forEach","item","axios","get","headers","getAuthorizationHeader","then","response","data","Picture","PictureUrl1","Name","ZipCode","OpenTime","innerHTML","error","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","changeClickProcess","preventDefault","addEventListener","swiper","Swiper","slidesPerView","freeMode","watchSlidesProgress","spaceBetween","autoplay","stopOnLastSlide","disableOnInteraction","pagination","el","breakpoints","mybutton","getElementById","window","onscroll","scrollFunction","body","scrollTop","documentElement","style","display","topFunction"],"mappings":"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","file":"all.js","sourcesContent":["//DOM\r\nconst inputSearch = document.querySelector('.inputSearch');\r\nconst searchClick = document.querySelector('.searchClick');\r\nconst changeClick = document.querySelector('.changeClick');\r\nconst showChangeClick = document.querySelector('.showChangeClick');\r\n\r\n//全域變數\r\nlet inputData = '';\r\nconst zipCodeMap = {\r\n  100: '中正區',\r\n  103: '大同區',\r\n  104: '中山區',\r\n  105: '松山區',\r\n  106: '大安區',\r\n  108: '萬華區',\r\n  110: '信義區',\r\n  111: '士林區',\r\n  112: '北投區',\r\n  114: '內湖區',\r\n  115: '南港區',\r\n  116: '文山區',\r\n}\r\n//取得資料\r\nfunction getInputData() {\r\n  if (inputSearch.value === '') {\r\n    alert('輸入到空白，請重新輸入')\r\n  }\r\n  else {\r\n    inputData = inputSearch.value;\r\n  }\r\n  inputSearch.value = '';\r\n}\r\n//搜尋按鈕\r\nfunction serachButtonClick(e) {\r\n  if (e.target.nodeName !== 'I') {\r\n    return\r\n  }\r\n  else {\r\n    //console.log('test')\r\n    //console.log(e.target.nodeName)\r\n    getInputData()\r\n    console.log(inputData)\r\n  }\r\n\r\n}\r\n\r\n//換一組功能\r\nfunction cheangProcess(){\r\n  const taipeiZipCode = [100, 103, 104, 105, 106, 108, 110, 111, 112, 114, 115, 116];\r\n  let randomZipcode = [];\r\n  //把隨機的zipcod寫入randomZipcode\r\n  while (randomZipcode.length < 4) {\r\n    let randomNumber = Math.ceil(Math.random() * 12) - 1;\r\n    if (randomZipcode.indexOf(taipeiZipCode[randomNumber]) == -1) {\r\n      randomZipcode.push(taipeiZipCode[randomNumber])\r\n    }\r\n  }\r\n // console.log(randomZipcode)\r\n  let content = '';\r\n  \r\n  randomZipcode.forEach(function (item) {\r\n\r\n    axios.get(`https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/Taipei?$filter=contains(ZipCode,'${item}')&$top=1&$format=JSON`\r\n      ,\r\n      {\r\n        headers: getAuthorizationHeader()\r\n      }\r\n    )\r\n      .then(function (response) {\r\n        //渲染資料\r\n        \r\n        content+=`<li class=\"swiper-slide\">\r\n        <a href=\"#\">\r\n          <img class=\"single-rounded-1 pe-md-7 bg-primary\" src=\"${response.data[0].Picture.PictureUrl1}\" alt=\"${response.data[0].Name}\">\r\n          <h3 class=\"text-secondary mt-2\">${response.data[0].Name}</h3>\r\n        <i class=\"fas fa-map-marker-alt text-secondary\"><span class=\"ps-1 text-tertiary\">${zipCodeMap[response.data[0].ZipCode]}｜${response.data[0].OpenTime}</span></i>\r\n        </a>\r\n      </li>`\r\n        showChangeClick.innerHTML = content;\r\n        //console.log(content)\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n\r\n  })\r\n}\r\n//把取道的值組字串並撈回資料\r\n// function searchProcess() {\r\n\r\n//   axios.get(`https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant/Taipei?$filter=contains(Name,'${keyWord}')&$top=${showNum}&$format=JSON`\r\n//     ,\r\n//     {\r\n//       headers: getAuthorizationHeader()\r\n//     }\r\n//   )\r\n//     .then(function (response) {\r\n//       data = response.data;\r\n//       //渲染資料\r\n//       randerData()\r\n//     })\r\n//     .catch(function (error) {\r\n//       console.log(error);\r\n//     });\r\n// }\r\n//授權碼記得要用在axios內\r\nfunction getAuthorizationHeader() {\r\n  //  填入自己 ID、KEY 開始\r\n  let AppID = '72eedea956be46d0882b168d7657e9a1';\r\n  let AppKey = 'CIqfhH-bYTVI-lzBqts5tjvp9P8';\r\n  //  填入自己 ID、KEY 結束\r\n  let GMTString = new Date().toGMTString();\r\n  let ShaObj = new jsSHA('SHA-1', 'TEXT');\r\n  ShaObj.setHMACKey(AppKey, 'TEXT');\r\n  ShaObj.update('x-date: ' + GMTString);\r\n  let HMAC = ShaObj.getHMAC('B64');\r\n  let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\r\n  return { 'Authorization': Authorization, 'X-Date': GMTString };\r\n}\r\n//顯示資料\r\n// function showDataProcess(responseData) {\r\n//   let content = ''\r\n//   responseData.forEach((item, index) => {\r\n//     content += `<li class=\"swiper-slide\">\r\n//     <a href=\"#\">\r\n//       <img class=\"single-rounded-1 pe-md-7 bg-primary\" src=${item[index][0].Picture.PictureUrl1} alt=${item[index][0].Name}\">\r\n//       <h3 class=\"text-secondary mt-2\">${item[index][0].Name}</h3>\r\n//     <i class=\"fas fa-map-marker-alt text-secondary\"><span class=\"ps-1 text-tertiary\"${zipCodeMap[item[index][0].ZipCode]}\r\n//   ｜${item[index][0].OpenTime}</span ></i >\r\n//     </a >\r\n//   </li > `\r\n//   })\r\n//   showChangeClick.innerHTML = content\r\n// }\r\n//渲染資料\r\n// function randerData(responseData) {\r\n//   showDataProcess(responseData)\r\n// }\r\n//search.addEventListener('click',searchProcess,false)\r\n\r\n//功能執行\r\n\r\n//點擊換一組功能\r\nfunction changeClickProcess(e) {\r\n  e.preventDefault();\r\n  cheangProcess()\r\n}\r\n//監控\r\n\r\nsearchClick.addEventListener('click', serachButtonClick, false)\r\nchangeClick.addEventListener('click', changeClickProcess, false)\r\n//開啟網頁後執行\r\ncheangProcess()\r\n\r\n//套件\r\nconst swiper = new Swiper('.siteSwiper', {\r\n\r\n  slidesPerView: 1.3,\r\n  freeMode: true,\r\n  watchSlidesProgress: true,\r\n\r\n  spaceBetween: 20,\r\n  autoplay: {\r\n    // delay: 2500,\r\n    stopOnLastSlide: false,\r\n    disableOnInteraction: true,\r\n  },\r\n  pagination: {\r\n    el: \".swiper-pagination\",\r\n  },\r\n\r\n  breakpoints: {\r\n    576: {\r\n      slidesPerView: 2.8,\r\n      spaceBetween: 20\r\n    },\r\n    992: {\r\n      slidesPerView: 2.5,\r\n      spaceBetween: 20\r\n    }\r\n\r\n  }\r\n})\r\n\r\n// footer 的 go to top button:\r\nmybutton = document.getElementById(\"goTopBtn\");\r\n\r\n// When the user scrolls down 20px from the top of the document, show the button\r\nwindow.onscroll = function() {scrollFunction()};\r\n\r\nfunction scrollFunction() {\r\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\r\n    mybutton.style.display = \"block\";\r\n  } else {\r\n    mybutton.style.display = \"none\";\r\n  }\r\n}\r\n\r\n// When the user clicks on the button, scroll to the top of the document\r\nfunction topFunction() {\r\n  document.body.scrollTop = 0; // For Safari\r\n  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n}"]}